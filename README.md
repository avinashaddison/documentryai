# Petr AI Documentary Studio

An AI-powered documentary video generation platform that transforms any topic into a complete cinematic documentary with AI-generated research, narration, visuals, and professional editing.

![Petr AI](https://img.shields.io/badge/Petr%20AI-Documentary%20Studio-7163EB?style=for-the-badge)
![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)
![React](https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)
![Node.js](https://img.shields.io/badge/Node.js-339933?style=for-the-badge&logo=nodedotjs&logoColor=white)

## Features

- **AI-Powered Research** - Deep fact-gathering using Perplexity API and Claude for comprehensive topic research
- **Script Generation** - Professional documentary narration scripts generated by Claude
- **Image Generation** - Cinematic visuals using Replicate (Flux/Ideogram models)
- **Voice Narration** - Professional voiceover with Deepgram TTS
- **Video Assembly** - Automated video editing with Ken Burns effects and transitions
- **Timeline Editor** - Professional timeline-based video editing interface
- **Modern UI** - Beautiful purple-themed interface with magical animations and particle effects

## Tech Stack

### Frontend
- React 18 + TypeScript
- Vite for blazing-fast development
- Tailwind CSS v4 with custom theming
- shadcn/ui + Radix UI components
- TanStack Query for state management
- Wouter for routing
- Framer Motion for animations

### Backend
- Node.js + Express
- TypeScript with ESM modules
- PostgreSQL with Drizzle ORM
- WebSocket for real-time updates

### AI Services
- **Anthropic Claude** - Research, script generation
- **Replicate** - Image generation (Flux, Ideogram)
- **Deepgram** - Text-to-speech narration
- **Perplexity** - Deep research and fact-finding

## Quick Start

### Prerequisites

- Node.js 20+
- PostgreSQL database
- API keys for AI services

### 1. Clone the Repository

```bash
git clone https://github.com/yourusername/petr-ai-documentary-studio.git
cd petr-ai-documentary-studio
```

### 2. Install Dependencies

```bash
npm install
```

### 3. Set Up Environment Variables

Copy the example environment file and fill in your API keys:

```bash
cp .env.example .env
```

Required environment variables:

| Variable | Description |
|----------|-------------|
| `DATABASE_URL` | PostgreSQL connection string |
| `ANTHROPIC_API_KEY` | Anthropic API key for Claude |
| `REPLICATE_API_TOKEN` | Replicate API token for image generation |
| `DEEPGRAM_API_KEY` | Deepgram API key for text-to-speech |
| `PERPLEXITY_API_KEY` | Perplexity API key for research |
| `SESSION_SECRET` | Secret for session encryption |

### 4. Set Up Database

Push the database schema:

```bash
npm run db:push
```

### 5. Start Development Server

```bash
npm run dev
```

The app will be available at `http://localhost:5000`

## Production Build

```bash
# Build the application
npm run build

# Start production server
npm start
```

## Project Structure

```
petr-ai-documentary-studio/
├── client/                 # React frontend
│   ├── src/
│   │   ├── components/     # UI components
│   │   ├── pages/          # Route pages
│   │   ├── lib/            # Utilities
│   │   └── hooks/          # Custom hooks
├── server/                 # Express backend
│   ├── routes.ts           # API routes
│   ├── storage.ts          # Database operations
│   ├── documentary-generator.ts
│   ├── research-service.ts
│   ├── image-generator.ts
│   └── tts-service.ts
├── shared/                 # Shared types & schemas
│   └── schema.ts           # Drizzle schema
└── public/                 # Static assets
```

## API Endpoints

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/api/projects` | GET | List all projects |
| `/api/projects` | POST | Create new project |
| `/api/projects/:id` | GET | Get project details |
| `/api/projects/:id/generate` | POST | Start documentary generation |
| `/api/saved-videos` | GET | List saved videos |
| `/api/usage` | GET | Get API usage stats |
| `/api/preflight-check` | GET | Check API health |

## Generation Pipeline

1. **Research Phase** - Perplexity gathers facts, Claude structures findings
2. **Framework Generation** - Claude creates documentary structure
3. **Chapter Scripts** - Research-backed narration scripts
4. **Image Generation** - Replicate creates cinematic visuals
5. **Audio Generation** - Deepgram synthesizes voiceover
6. **Video Assembly** - FFmpeg compiles final video with effects

## Configuration

### Image Models
- `flux-1.1-pro` - High-quality general images
- `ideogram-v3` - Text-aware image generation

### Voice Options
- Multiple Deepgram Aura 2.0 voices available
- Professional narrator tones

## Contributing

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Acknowledgments

- [Anthropic](https://anthropic.com) for Claude AI
- [Replicate](https://replicate.com) for image generation
- [Deepgram](https://deepgram.com) for text-to-speech
- [Perplexity](https://perplexity.ai) for research capabilities
- [shadcn/ui](https://ui.shadcn.com) for beautiful components

---

Made with love by Petr AI Documentary Studio
